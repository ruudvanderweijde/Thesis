\documentclass[../main.tex]{subfiles}
\begin{document}
    \chapter{Background and context}\label{chap:background}
    
    \section{PHP Language Constructs}
    In this section important language constructs are presented.
    Explanations of these constructs should help to understand the performed analysis.
    Including some concepts like scope, includes, dynamic variables, dynamic class instantiation, dynamic function call, dynamic dispatch, runtime environment variables and constants, late static binding (static keyword), magic methods.
    
    \subsection{Scoping}
    PHP knows three known scopes. "Define what scope is".
    Global, namespace, class, method, function.
    The global scope is contained in every file which is not inside a function or class.
    The global scope can contain namespaces.
    Namespaces are comparable to packages in Java.
    When namespaces are used, classes and functions will be scoped to the namespace.
    You can access them by providing the namespace name.
    
    \subsection{Includes}
    Note to myself: how will I deal with this concept in my analysis (totally ignore it??? when maybe not add it to this background information).
    The problem of including files can be reduced using namespaces and autoloading.
    When a class which is not loaded in memory is instantiated, the autoloading will try to include a file and load the class. 
    For this analysis we will include all files 
    * Refer to the analysis of mark hills, that most files can be resolved, but not all. 
    We consider the use of including scripts for logic as bad practice. 
    Every file should contain a class, and in this case, it is for our analysis not very interesting to resolve the includes.
    
    \subsection{Conditional functions and classes}
    \lstinputlisting[language=PHP,title=Conditional class and function definitions]{src/php/conditionals.php}


    
    \subsection{Dynamic features}
    These include dynamic variables, dynamic class instantiations, dynamic function calls.
    
    \subsection{Late static binding}
    Late static binding\footnotemark is implemented in PHP since version 5.3 by adding the keyword `static' to the language.
    \footnotetext{http://php.net/manual/en/language.oop5.late-static-bindings.php, July 2014}
    It has the same function as `parent' and `self', because they both point to a class. 
    The main difference is that `parent' and `self' can be resolved statically.
    `static' can only be resolved on runtime and represents the exact class that is instantiated.
    
    \subsection{Magic methods}
    In PHP it is allowed to call methods or use properties that do not exists.
    Normally this would result in a fatal error, but not with the use of magic methods.
    One of the magic methods is het constructor method `\_\_ construct'
    

    \section{M3}
    The M3-model is a generic model which can be used to analyse software programs.
    Our goals is to provide the results in an M3 model.
    Future research can use this to compare different programming languages.
    
    \section{Type inference}
    
    Describe differnt methods of type inferences and why I chose for this one.
    
\end{document}