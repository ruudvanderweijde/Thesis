\documentclass[main.tex]{subfiles}
\begin{document}
    \chapter{Examples}\label{chap:examples}
    Note: this section will be removed/excluded later. 
    It is just included to test code examples, images and tables.
    
    \subsection{Code example}
    % test code
    Hello world php example:
    \begin{lstlisting}
echo "Hello World!";
exit;
\end{lstlisting}
    
    % included from file
    \lstinputlisting[language=PHP,title=test]{src/php/injection.php}

    
    \subsection{Algorithms}
    
\IncMargin{1em}
\begin{algorithm}[H]
\ForEach{node $n \in$ OFG}{
    in[$n$] = $\emptyset$ 
    \\
    out[$n$] = gen[$n$] $\cup$ (in[$n$] \textbackslash $ $ kill[$n$])
}
\While{any in[$n$] or out[$n$] changes}{
    \ForEach{node $n$ $\in$ OFG}{
        in[$n$] = $\cup _{p\in pred(n)}$ out[$p$] 
        \\
        out[$n$] = gen[$n$] $\cup$ (in[$n$] \textbackslash $ $ kill[$n$])
    }
}
\algorithmfootnote{$pred(n)$ is the set of predecessors of node $n$.}

\caption{Pseudocode of the flow propagation algorithm.}\label{algo_flowpropagation}
\end{algorithm}
\DecMargin{1em}

    \subsection{Image example}
    % test image
    
    This is dummy text around the image.
    \begin{figure}[H]
        \includegraphics[width=0.2\textwidth]{img/demo.jpg}
        \caption{Demo Image}
        \label{fig:demo_image}
    \end{figure}

    
    \subsection{Table example}
    % test table
    Some tables from http://en.wikibooks.org/wiki/LaTeX/Tables.

\begin{table}[H]
    \begin{tabular}{ | l | c | r | }
        \hline
        1 & 2 & 3 \\
        \hline
        4 & 5 & 6 \\    
        \hline
        7 & 8 & 9 \\
        \hline
    \end{tabular}
  \caption{Demo Table1}
  \label{tab:demo_table1}
\end{table}



\npaddmissingzero
\npfourdigitsep
\begin{table*}
\centering
\begin{tabular}{@{}lrrrcrrrrr@{}} \toprule 
System & \multicolumn{3}{c}{Includes} & \phantom{abc} & \multicolumn{5}{c}{Results} \\
\cmidrule{2-4} \cmidrule{6-10}
 & Total & Static & Dynamic & & Unique & Missing & Any & Other & Average \\ \midrule 
  Werkspot oldWebsite (full) & \numprint{2989} & \numprint{1462} & \numprint{1527} & & \numprint{2400} & \numprint{138} & \numprint{199} & \numprint{252} & \nprounddigits{2} \numprint{14.23015873} \npnoround \\ 
  Werkspot oldWebsite (web folder) & \numprint{705} & \numprint{196} & \numprint{509} & & \numprint{616} & \numprint{32} & \numprint{44} & \numprint{13} & \nprounddigits{2} \numprint{4.923076923} \npnoround \\ 
  Werkspot api4 & \numprint{1998} & \numprint{1369} & \numprint{629} & & \numprint{1719} & \numprint{114} & \numprint{118} & \numprint{47} & \nprounddigits{2} \numprint{4.191489362} \npnoround \\ 

\bottomrule
\end{tabular}
\caption{Results of running {\sf FLRES} on the corpus.\label{table-quick}}
\end{table*}
Another table to test.

\begin{table}[H]
    \begin{tabular}{|r|l|}
      \hline
      7C0 & hexadecimal \\
      3700 & octal \\ \cline{2-2}
      11111000000 & binary \\
      \hline \hline
      1984 & decimal \\
      \hline
    \end{tabular}
    \caption{Another demo table}
    \label{tab:demo_table2}
\end{table}


%%% RESULTS ARE NOT CORRECT %%%
\begin{table}
\begin{tabularx}{\columnwidth}{lX}
\textbf{allocations} & array, \underline{clone}, new, nextArrayElem, scalar \\
\textbf{assignment ops} & \textit{BitAnd}, \textit{BitOr}, \textit{BitXor}, Concat, \textit{Div}, \textit{LShift}, \underline{Minus}, \textit{Mod}, \textit{Mul}, Plus, \textit{RShift}, assign, listAssign, refAssign, unset \\
\textbf{binary ops} & \underline{BitAnd}, \underline{BitOr}, \textit{BitXor}, BoolAnd, BoolOr, Concat, Div, Equal, Geq, Gt, Identical, \textit{LShift}, Leq, LogAnd, LogOr, \textit{LogXor}, Lt, Minus, Mod, Mul, NotEqual, NotId, Plus, \textit{RShift} \\
\textbf{casts} & toArray, toBool, \textit{toFloat}, toInt, \underline{toObject}, toString, \textbf{toUnset} \\
\textbf{control flow} & break, continue, \textit{declare}, \underline{do}, exit, expStmt, for, foreach, \textbf{goto}, \textbf{haltCompiler}, if, \textbf{label}, return, suppress, switch, ternary, throw, tryCatch, while \\
\textbf{definitions} & classConstDef, classDef, \textit{closure}, \textbf{const}, functionDef, global, include, interfaceDef, methodDef, namespace, propertyDef, static, \textbf{traitDef}, use \\
\textbf{invocations} & call, \textit{eval}, methodCall, \textit{shellExec}, staticCall \\
\textbf{lookups} & fetchClassConst, fetchConst, fetchStaticProperty, propertyFetch, \textbf{traitUse}, var \\
\textbf{predicates} & empty, instanceOf, isSet \\
\textbf{print} & echo, inlineHTML, \underline{print} \\
\textbf{unary ops} & \textit{BitNot}, BoolNot, \underline{PostDec}, PostInc, \textit{PreDec}, PreInc, UnaryMinus, \textit{UnaryPlus} \\
 & \\ \end{tabularx}
\parbox{\columnwidth}{Features in \textbf{bold} are not used in the corpus. Features in \textit{italics} are not used in 90\% of the corpus files. Features that are \underline{underlined} are not used in 80\% of the corpus files.}
\ \vspace{1ex}
\caption{Logical Groups of PHP Features.\label{Table:FeatureGroups}}
\end{table}






\section{PHP Analysis using Rascal - Results}
See the tables below...
%%%% TEST %%%%%%%


%%------[ Table 4 ]-------%%
\npaddmissingzero
\npfourdigitsep
\begin{table}
  \centering
  %\ra{1.2}
  \scriptsize
  \begin{tabular}{@{}lrrrrr@{}} \toprule
  Product & \multicolumn{3}{c}{Includes} & Files & Gini \\
 \cmidrule{2-4} 
   &  Total & Dynamic & Resolved & &  \\ \midrule
    Werkspot & \numprint{2982} & \numprint{1522}  & \numprint{1274} & \numprint{9400}(\numprint{145}) & \nprounddigits{2} \numprint{0.355} \npnoround \\ 
  \bottomrule
  \end{tabular}
  \normalsize
  \caption{PHP Dynamic Includes.\label{table-includes}}
\end{table}
\npfourdigitnosep
\npnoaddmissingzero

\npaddmissingzero
\npfourdigitsep
\begin{table}
  \centering
  %\ra{1.2}
  \scriptsize
  \begin{tabular}{@{}lllrrrrrrrrrr@{}} \toprule
     \multicolumn{3}{c}{Product}        & \multicolumn{2}{c}{Files} & \multicolumn{3}{c}{Objects}        & \multicolumn{5}{c}{Lines of code} \\
     \cmidrule(l{2pt}r{2pt}){1-3}       \cmidrule(l{2pt}r{2pt}){4-5} \cmidrule(l{2pt}r{2pt}){6-8}        \cmidrule(l{2pt}r{2pt}){9-13}                    
     Vendor  & Name* & Version           & D$^1$         & F$^2$          & C$^3$ & I$^4$ & T$^5$ & Total & \multicolumn{2}{c}{Logical} & \multicolumn{2}{c}{Global$^6$} \\ \midrule
     doctrine & lexer & 1.0  		    & - 			& - 		     & 1         & 0  & 0 & \numprint{265} 	    & \numprint{42} & (15.85 \%) 	& 1 & (2.38 \%) \\
     doctrine & inflector & 1.0 			& - 			& - 		     & 1         & 0  & 0 & \numprint{385} 	    & \numprint{44} & (11.43 \%) 	& 1 & (2.27 \%) \\
     psr & log & 1.0.0 					& \numprint{1}  & \numprint{9}   & 6         & 2  & 2 & \numprint{571} 	    & \numprint{69} & (12.08 \%) 	& 10 & (14.49 \%) \\
     symfony & filesystem & 2.5.3 		& \numprint{1}  & \numprint{5}   & 3         & 2  & 0 & \numprint{602} 	    & \numprint{99} & (16.45 \%) 	& 7 & (7.07 \%) \\
     symfony & event-dispatcher & 2.5.3 	& \numprint{2}  & \numprint{11}  & 8         & 3  & 0 & \numprint{1466} 	& \numprint{239} & (16.30 \%) 	& 23 & (9.62 \%) \\
     phpunit & php-token-stream & 1.2.2 	& \numprint{4}  & \numprint{6}   & 167       & 0  & 0 & \numprint{1714} 	& \numprint{285} & (16.63 \%) 	& 0 & (0.00 \%) \\
     symfony & yaml & 2.5.3 				& \numprint{1}  & \numprint{10}  & 9         & 1  & 0 & \numprint{1782} 	& \numprint{415} & (23.29 \%) 	& 16 & (3.86 \%) \\
     symfony & debug & 2.5.3 			& \numprint{2}  & \numprint{16}  & 16        & 1  & 0 & \numprint{1920} 	& \numprint{417} & (21.72 \%) 	& 40 & (9.59 \%) \\
     doctrine & collections & 1.2 		& - 			& - 		     & 9         & 3  & 0 & \numprint{2036} 	& \numprint{308} & (15.13 \%) 	& 21 & (6.82 \%) \\
     doctrine & cache & 1.3.0 			& - 			& - 		     & 16        & 1  & 0 & \numprint{2167} 	& \numprint{310} & (14.31 \%) 	& 29 & (9.35 \%) \\
     symfony & dom-crawler & 2.5.3 		& \numprint{1}  & \numprint{9}   & 9         & 0  & 0 & \numprint{2560} 	& \numprint{441} & (17.23 \%) 	& 12 & (2.72 \%) \\
     symfony & process & 2.5.3 			& \numprint{1}  & \numprint{13}  & 12        & 1  & 0 & \numprint{2710} 	& \numprint{510} & (18.82 \%) 	& 25 & (4.90 \%) \\
     doctrine & annotations & 1.2.0 		& \numprint{2}  & \numprint{20}  & 19        & 1  & 0 & \numprint{3807} 	& \numprint{649} & (17.05 \%) 	& 33 & (5.08 \%) \\
     symfony & translation & 2.5.3 		& \numprint{6}  & \numprint{44}  & 36        & 8  & 0 & \numprint{3896} 	& \numprint{705} & (18.10 \%) 	& 115 & (16.31 \%) \\
     symfony & browser-kit & 2.5.3 		& \numprint{2}  & \numprint{15}  & 15        & 0  & 0 & \numprint{4154} 	& \numprint{705} & (16.97 \%) 	& 22 & (3.12 \%) \\
     symfony & finder & 2.5.3 			& \numprint{6}  & \numprint{37}  & 34        & 3  & 0 & \numprint{4488} 	& \numprint{815} & (18.16 \%) 	& 68 & (8.34 \%) \\
     symfony & css-selector & 2.5.3 		& \numprint{8}  & \numprint{48}  & 42        & 6  & 0 & \numprint{4752} 	& \numprint{757} & (15.93 \%) 	& 133 & (17.57 \%) \\
     symfony & routing & 2.5.3 			& \numprint{7}  & \numprint{43}  & 32        & 11 & 0 & \numprint{5872} 	& \numprint{1115} & (18.99 \%)	& 122 & (10.94 \%) \\
     phpunit & phpunit-mock-objects & 2.2.0 & \numprint{13} & \numprint{54} & 36     & 16 & 0 & \numprint{6462} 	& \numprint{629} & (09.73 \%) 	& 22 & (3.50 \%) \\
     monolog & monolog & 1.10.0 			& \numprint{7}  & \numprint{80}  & 74        & 5  & 2 & \numprint{7989} 	& \numprint{1464} & (18.33 \%)	& 167 & (11.41 \%) \\
     phpunit & php-code-coverage & 2.0.10	& \numprint{26} & \numprint{55} & 210    & 1  & 0 & \numprint{10676}	& \numprint{1711} & (16.03 \%)	& 18 & (1.05 \%) \\
     symfony & console & 2.5.3 			& \numprint{10} & \numprint{58}  & 50        & 8  & 0 & \numprint{11004}	& \numprint{2146} & (19.50 \%)	& 200 & (9.32 \%) \\
     symfony & http-foundation & 2.5.3 	& \numprint{10} & \numprint{61}  & 53        & 9  & 0 & \numprint{11895}	& \numprint{1763} & (14.82 \%)	& 99 & (5.62 \%) \\ 
     twig & twig & 1.16.0 				& \numprint{16} & \numprint{166} & 146       & 19 & 0 & \numprint{14221}	& \numprint{2544} & (17.89 \%)	& 3 & (0.12 \%) \\
     doctrine & common & 2.4.2 			& \numprint{15} & \numprint{110} & 86        & 24 & 0 & \numprint{16679}	& \numprint{2444} & (14.65 \%)	& 212 & (8.67 \%) \\
     swiftmailer & swiftmailer & 5.2.1 	& \numprint{25} & \numprint{171} & 114       & 47 & 0 & \numprint{22387}	& \numprint{3388} & (15.13 \%)	& 29 & (0.86 \%) \\
     guzzle & guzzle & 3.9.2 			& \numprint{48} & \numprint{248} & 194       & 53 & 0 & \numprint{27537}	& \numprint{5645} & (20.50 \%)	& 804 & (14.24 \%) \\
     symfony & http-kernel & 2.5.3      & \numprint{35} & \numprint{206} & 175       & 32 & 2 & \numprint{27837}	& \numprint{4754} & (17.08 \%)	& 551 & (11.59 \%) \\
     phpunit & phpunit & 4.2.2 			& \numprint{63} & \numprint{262} & 386       & 26 & 0 & \numprint{50470}	& \numprint{6667} & (13.21 \%)	& 111 & (1.66 \%) \\
     doctrine & dbal & 2.4.2 			& \numprint{50} & \numprint{280} & 243       & 35 & 0 & \numprint{51229}	& \numprint{7840} & (15.30 \%)	& 713 & (9.09 \%) \\

  \bottomrule
     \multicolumn{13}{l}{} \\
     \multicolumn{13}{l}{*This is a list of the 30 most popular packages of packagist ordered by total lines of code, in July 2014.} \\
     \multicolumn{13}{l}{$^1$ = Directories, $^2$ = Files, $^3$ = Classes, $^4$ = Interfaces, $^5$ = Traits, $^6$ = Not in class or function} \\
  \bottomrule
  \end{tabular}
  \normalsize
  \caption{List of analysed projects.\label{corpus}}
\end{table}
\npfourdigitnosep
\npnoaddmissingzero


%%------[ Table 5 ]-------%%
\npaddmissingzero
\npfourdigitsep
\begin{table*}
\centering
%\ra{1.0}
\resizebox{\textwidth}{!}{%
\begin{tabular}{@{}lrrrcrrcrrcrrcrrcrrrr@{}} \toprule 
Product & Files & \multicolumn{19}{c}{PHP Variable Features} \\
\cmidrule{3-21}
 & & \multicolumn{2}{c}{Variables} & \phantom{a} & \multicolumn{2}{c}{Function Calls} & \phantom{a} & \multicolumn{2}{c}{Method Calls} & \phantom{a} & \multicolumn{2}{c}{Property Fetches} & \phantom{a} & \multicolumn{2}{c}{Instantiations} & \phantom{a} & \multicolumn{4}{c}{All} \\
\cmidrule{3-4} \cmidrule{6-7} \cmidrule{9-10} \cmidrule{12-13} \cmidrule{15-16} \cmidrule{18-21}
 &  & Files & Uses && Files & Uses && Files & Uses && Files & Uses && Files & Uses && Files & w/Inc & Uses & Gini \\ \midrule 
  Werkspot & \numprint{9400} & \numprint{8} & \numprint{23} && \numprint{29} & \numprint{60} && \numprint{137} & \numprint{310} && \numprint{154} & \numprint{386} && \numprint{254} & \numprint{444} && \numprint{464} & \numprint{542} & \numprint{1231} & \nprounddigits{2} \numprint{0.46} \npnoround \\ 
\bottomrule
\end{tabular}
}
\caption{PHP Variable Features.\label{table-var}}
\end{table*}


%%------[ Table 6 ]-------%%


%%------[ Table 7 ]-------%%
\npaddmissingzero
\npfourdigitsep
\begin{table}
  \centering
  %\ra{1.0}
\resizebox{\columnwidth}{!}{%
  \begin{tabular}{@{}lrrcrrrrrrr@{}} \toprule
  Product & \multicolumn{2}{c}{Files} & \phantom{a} & \multicolumn{6}{c}{Magic Methods} & GC \\
  \cmidrule{2-3} \cmidrule{5-10}
          & MM & WI && S & G & I & U & C & SC &  \\ \midrule
    Werkspot & \numprint{109} & \numprint{223} && \numprint{23} & \numprint{42} & \numprint{27} & \numprint{15} & \numprint{87} & \numprint{2} & \nprounddigits{2} \numprint{0.356} \npnoround \\ 
  \bottomrule
  \end{tabular}
}
  \caption{PHP Overloading (Magic Methods).\label{table-magic}}
\end{table}
\npfourdigitnosep
\npnoaddmissingzero


%%------[ Table 8 ]-------%%
\npaddmissingzero
\npfourdigitsep
\begin{table}
  \centering
  %\ra{1.1}
\scriptsize
  \begin{tabular}{@{}lrrrcrr@{}} \toprule
  Product & \multicolumn{3}{c}{Files} & \phantom{a} & Total Uses & Gini \\
  \cmidrule{2-4} 
          & Total & EV & WI & & & \\ \midrule
    Werkspot & \numprint{9400} & \numprint{52} & \numprint{282} && \numprint{36}/\numprint{52}  & \nprounddigits{2} \numprint{0.331} \npnoround  \\ 
  \bottomrule
  \end{tabular}
\normalsize
  \caption{Usage of \texttt{eval} and \texttt{create\_function}.\label{table-eval}}
\end{table}
\npfourdigitnosep
\npnoaddmissingzero


%%------[ Table 9 ]-------%%
\npaddmissingzero
\npfourdigitsep
\begin{table}
  \centering
  %\ra{1.1}
\resizebox{\columnwidth}{!}{%
  \begin{tabular}{@{}lrrrcrrrrr@{}} \toprule
  Product & \multicolumn{3}{c}{Files} & \phantom{a} & VDefs & VCalls & LCalls & Gini \\
  \cmidrule{2-4} 
          & Total & VA & WI & & & & & \\ \midrule
    Werkspot & \numprint{9400} & \numprint{3324} & \numprint{3359} && \numprint{236} & \numprint{15360} & \numprint{6096} & \nprounddigits{2} \numprint{0.605} \npnoround  \\ 
  \bottomrule
  \end{tabular}
}
  \caption{Usage of Variadic Functions.\label{table-variadic}}
\end{table}
\npfourdigitnosep
\npnoaddmissingzero


%%------[ Table 10 ]-------%%
\npaddmissingzero
\npfourdigitsep
\begin{table}
  \centering
  %\ra{1.1}
\resizebox{\columnwidth}{!}{%
  \begin{tabular}{@{}lrrrcrrrrr@{}} \toprule
  Product & \multicolumn{3}{c}{Files} & \phantom{a} & CUF & CUFA & CUM & CUMA & Gini \\
  \cmidrule{2-4} 
          & Total & Inv & Inc & & & & & & \\ \midrule
    Werkspot & \numprint{9400} & \numprint{217} & \numprint{326} && \numprint{312} & \numprint{184} & \numprint{0} & \numprint{0} & \nprounddigits{2} \numprint{0.434} \npnoround  \\ 
  \bottomrule
  \end{tabular}
}
  \caption{Usage of Invocation Functions.\label{table-invokers}}
\end{table}
\npfourdigitnosep
\npnoaddmissingzero
%%%% END OF TEST %%%%%%


\section{PHP Analysis now without test files... (and without /beheer)}

%% Table 1 %%
\npaddmissingzero
\npfourdigitsep
\begin{table*}
\centering
%\ra{1.2}
\begin{tabularx}{\textwidth}{XlllrrX} \toprule
System & Version & PHP & Release Date & File Count & SLOC & Description \\ \midrule 
  Werkspot & oldWebsite & 5.0.0 & 2000-04-13 & \numprint{9400} & \numprint{1486669} & Werkspot old website \\ 
  WerkspotNoTests & oldWebsiteNoTests & 5.0.0 & 2000-04-13 & \numprint{6229} & \numprint{1061811} & Werkspot old website without test folders \\ 
\bottomrule
\end{tabularx}
\parbox{\textwidth}{\mbox{} \\ The PHP versions listed above in column PHP are the minimum required versions. 
The File Count includes files with a .php or an .inc extension. In total there are \numprint{2}
systems consisting of \numprint{15629} files with \numprint{2548480} total lines of source.} 
\caption{The PHP Corpus.\label{tbl:php-corpus}}
\end{table*}
\npfourdigitnosep
\npnoaddmissingzero

%% table 2.2 %%
\begin{table}
\begin{tabularx}{\columnwidth}{lX}
\textbf{allocations} & array, \underline{clone}, new, nextArrayElem, scalar \\
\textbf{assignment ops} & \textit{BitAnd}, \textit{BitOr}, \textit{BitXor}, Concat, \textit{Div}, \textit{LShift}, \textit{Minus}, \textit{Mod}, \textit{Mul}, Plus, \textit{RShift}, assign, \underline{listAssign}, \underline{refAssign}, unset \\
\textbf{binary ops} & \underline{BitAnd}, \underline{BitOr}, \textit{BitXor}, BoolAnd, BoolOr, Concat, Div, Equal, Geq, Gt, Identical, \textit{LShift}, Leq, \underline{LogAnd}, \underline{LogOr}, \textit{LogXor}, Lt, Minus, \underline{Mod}, Mul, NotEqual, NotId, Plus, \textit{RShift} \\
\textbf{casts} & toArray, toBool, \underline{toFloat}, toInt, \textit{toObject}, toString, \textbf{toUnset} \\
\textbf{control flow} & break, continue, \textbf{declare}, \underline{do}, \underline{exit}, expStmt, for, foreach, \textbf{goto}, \textbf{haltCompiler}, if, \textbf{label}, return, suppress, switch, ternary, throw, tryCatch, while \\
\textbf{definitions} & classConstDef, classDef, \textit{closure}, \textbf{const}, \underline{functionDef}, \underline{global}, include, interfaceDef, methodDef, namespace, propertyDef, \underline{static}, \textbf{traitDef}, use \\
\textbf{invocations} & call, \textit{eval}, methodCall, \textbf{shellExec}, staticCall \\
\textbf{lookups} & fetchClassConst, fetchConst, fetchStaticProperty, propertyFetch, \textbf{traitUse}, var \\
\textbf{predicates} & empty, instanceOf, isSet \\
\textbf{print} & echo, inlineHTML, \textit{print} \\
\textbf{unary ops} & \textit{BitNot}, BoolNot, \underline{PostDec}, PostInc, \underline{PreDec}, PreInc, UnaryMinus, \textit{UnaryPlus} \\
 & \\ \end{tabularx}
\parbox{\columnwidth}{Features in \textbf{bold} are not used in the corpus. Features in \textit{italics} are not used in 90\% of the corpus files. Features that are \underline{underlined} are not used in 80\% of the corpus files.}
\ \vspace{1ex}
\caption{Logical Groups of PHP Features.\label{Table:FeatureGroups}}
\end{table}

%% Table 2 - only the one with no tests.. seems like the same %%

\begin{table}
\begin{tabularx}{\columnwidth}{lX}
\textbf{allocations} & array, \underline{clone}, new, nextArrayElem, scalar \\
\textbf{assignment ops} & \textit{BitAnd}, \textit{BitOr}, \textit{BitXor}, Concat, \textit{Div}, \textit{LShift}, \textit{Minus}, \textit{Mod}, \textit{Mul}, Plus, \textit{RShift}, assign, \underline{listAssign}, \underline{refAssign}, unset \\
\textbf{binary ops} & \underline{BitAnd}, \underline{BitOr}, \textit{BitXor}, BoolAnd, BoolOr, Concat, Div, Equal, Geq, Gt, Identical, \textit{LShift}, Leq, \underline{LogAnd}, \underline{LogOr}, \textit{LogXor}, Lt, Minus, \underline{Mod}, Mul, NotEqual, NotId, Plus, \textit{RShift} \\
\textbf{casts} & toArray, toBool, \underline{toFloat}, toInt, \textit{toObject}, toString, \textbf{toUnset} \\
\textbf{control flow} & break, continue, \textbf{declare}, \underline{do}, \underline{exit}, expStmt, for, foreach, \textbf{goto}, \textbf{haltCompiler}, if, \textbf{label}, return, suppress, switch, ternary, throw, tryCatch, while \\
\textbf{definitions} & classConstDef, classDef, \textit{closure}, \textbf{const}, \underline{functionDef}, \underline{global}, include, interfaceDef, methodDef, namespace, propertyDef, \underline{static}, \textbf{traitDef}, use \\
\textbf{invocations} & call, \textit{eval}, methodCall, \textbf{shellExec}, staticCall \\
\textbf{lookups} & fetchClassConst, fetchConst, fetchStaticProperty, propertyFetch, \textbf{traitUse}, var \\
\textbf{predicates} & empty, instanceOf, isSet \\
\textbf{print} & echo, inlineHTML, \textit{print} \\
\textbf{unary ops} & \textit{BitNot}, BoolNot, \underline{PostDec}, PostInc, \underline{PreDec}, PreInc, UnaryMinus, \textit{UnaryPlus} \\
 & \\ \end{tabularx}
\parbox{\columnwidth}{Features in \textbf{bold} are not used in the corpus. Features in \textit{italics} are not used in 90\% of the corpus files. Features that are \underline{underlined} are not used in 80\% of the corpus files.}
\ \vspace{1ex}
\caption{Logical Groups of PHP Features.\label{Table:FeatureGroups}}
\end{table}

%% Table 3 %%
\npaddmissingzero
\npfourdigitsep
\begin{table}
  \centering
  %\ra{1.2}
  \begin{tabular}{@{}lrr@{}} \toprule
  Product & \multicolumn{2}{c}{\%  Covered By} \\
  \cmidrule{2-3}
  & 80\% Features & 90\% Features \\ \midrule
    WerkspotNoTests & \nprounddigits{1} \numprint{88.51}\% \npnoround & \nprounddigits{1} \numprint{98.57}\% \npnoround \\ 
    Werkspot & \nprounddigits{1} \numprint{88.09}\% \npnoround & \nprounddigits{1} \numprint{97.91}\% \npnoround \\ 
  \bottomrule
  \end{tabular}
  \caption{Percent of System Covered by Feature Sets.\label{table-fset-cover}}
\end{table}
\npfourdigitnosep
\npnoaddmissingzero

%% Table 4 ??? %%

\npaddmissingzero
\npfourdigitsep
\begin{table}
  \centering
  %\ra{1.2}
  \scriptsize
  \begin{tabular}{@{}lrrrrr@{}} \toprule
  Product & \multicolumn{3}{c}{Includes} & Files & Gini \\
 \cmidrule{2-4} 
   &  Total & Dynamic & Resolved & &  \\ \midrule
    Werkspot & \numprint{2982} & \numprint{1522}  & \numprint{1274} & \numprint{9400}(\numprint{145}) & \nprounddigits{2} \numprint{0.355} \npnoround \\ 
    WerkspotNoTests & \numprint{1732} & \numprint{500}  & \numprint{344} & \numprint{6229}(\numprint{93}) & \nprounddigits{2} \numprint{0.349} \npnoround \\ 
  \bottomrule
  \end{tabular}
  \normalsize
  \caption{PHP Dynamic Includes.\label{table-includes}}
\end{table}
\npfourdigitnosep
\npnoaddmissingzero


%% Table 5 %%

\npaddmissingzero
\npfourdigitsep
\begin{table*}
\centering
%\ra{1.0}
\resizebox{\textwidth}{!}{%
\begin{tabular}{@{}lrrrcrrcrrcrrcrrcrrrr@{}} \toprule 
Product & Files & \multicolumn{19}{c}{PHP Variable Features} \\
\cmidrule{3-21}
 & & \multicolumn{2}{c}{Variables} & \phantom{a} & \multicolumn{2}{c}{Function Calls} & \phantom{a} & \multicolumn{2}{c}{Method Calls} & \phantom{a} & \multicolumn{2}{c}{Property Fetches} & \phantom{a} & \multicolumn{2}{c}{Instantiations} & \phantom{a} & \multicolumn{4}{c}{All} \\
\cmidrule{3-4} \cmidrule{6-7} \cmidrule{9-10} \cmidrule{12-13} \cmidrule{15-16} \cmidrule{18-21}
 &  & Files & Uses && Files & Uses && Files & Uses && Files & Uses && Files & Uses && Files & w/Inc & Uses & Gini \\ \midrule 
  Werkspot & \numprint{9400} & \numprint{8} & \numprint{23} && \numprint{29} & \numprint{60} && \numprint{137} & \numprint{310} && \numprint{154} & \numprint{386} && \numprint{254} & \numprint{444} && \numprint{464} & \numprint{542} & \numprint{1231} & \nprounddigits{2} \numprint{0.46} \npnoround \\ 
  WerkspotNoTests & \numprint{6229} & \numprint{3} & \numprint{5} && \numprint{16} & \numprint{44} && \numprint{98} & \numprint{230} && \numprint{82} & \numprint{218} && \numprint{193} & \numprint{320} && \numprint{314} & \numprint{367} & \numprint{823} & \nprounddigits{2} \numprint{0.47} \npnoround \\ 
\bottomrule
\end{tabular}
}
\caption{PHP Variable Features.\label{table-var}}
\end{table*}

%% Table 6 failed %%

%% Table 7 %%
\npaddmissingzero
\npfourdigitsep
\begin{table}
  \centering
  %\ra{1.0}
\resizebox{\columnwidth}{!}{%
  \begin{tabular}{@{}lrrcrrrrrrr@{}} \toprule
  Product & \multicolumn{2}{c}{Files} & \phantom{a} & \multicolumn{6}{c}{Magic Methods} & GC \\
  \cmidrule{2-3} \cmidrule{5-10}
          & MM & WI && S & G & I & U & C & SC &  \\ \midrule
    Werkspot & \numprint{109} & \numprint{223} && \numprint{23} & \numprint{42} & \numprint{27} & \numprint{15} & \numprint{87} & \numprint{2} & \nprounddigits{2} \numprint{0.356} \npnoround \\ 
    WerkspotNoTests & \numprint{74} & \numprint{153} && \numprint{19} & \numprint{36} & \numprint{19} & \numprint{11} & \numprint{52} & \numprint{0} & \nprounddigits{2} \numprint{0.353} \npnoround \\ 
  \bottomrule
  \end{tabular}
}
  \caption{PHP Overloading (Magic Methods).\label{table-magic}}
\end{table}
\npfourdigitnosep
\npnoaddmissingzero

%% Table 8 %%

\npaddmissingzero
\npfourdigitsep
\begin{table}
  \centering
  %\ra{1.1}
\scriptsize
  \begin{tabular}{@{}lrrrcrr@{}} \toprule
  Product & \multicolumn{3}{c}{Files} & \phantom{a} & Total Uses & Gini \\
  \cmidrule{2-4} 
          & Total & EV & WI & & & \\ \midrule
    Werkspot & \numprint{9400} & \numprint{52} & \numprint{282} && \numprint{36}/\numprint{52}  & \nprounddigits{2} \numprint{0.331} \npnoround  \\ 
    WerkspotNoTests & \numprint{6229} & \numprint{41} & \numprint{204} && \numprint{20}/\numprint{46}  & \nprounddigits{2} \numprint{0.316} \npnoround  \\ 
  \bottomrule
  \end{tabular}
\normalsize
  \caption{Usage of \texttt{eval} and \texttt{create\_function}.\label{table-eval}}
\end{table}
\npfourdigitnosep
\npnoaddmissingzero


%% Table 9 %%

\npaddmissingzero
\npfourdigitsep
\begin{table}
  \centering
  %\ra{1.1}
\resizebox{\columnwidth}{!}{%
  \begin{tabular}{@{}lrrrcrrrrr@{}} \toprule
  Product & \multicolumn{3}{c}{Files} & \phantom{a} & VDefs & VCalls & LCalls & Gini \\
  \cmidrule{2-4} 
          & Total & VA & WI & & & & & \\ \midrule
    Werkspot & \numprint{9400} & \numprint{3324} & \numprint{3359} && \numprint{236} & \numprint{15360} & \numprint{6096} & \nprounddigits{2} \numprint{0.605} \npnoround  \\ 
    WerkspotNoTests & \numprint{6229} & \numprint{2171} & \numprint{2191} && \numprint{141} & \numprint{9110} & \numprint{4526} & \nprounddigits{2} \numprint{0.585} \npnoround  \\ 
  \bottomrule
  \end{tabular}
}
  \caption{Usage of Variadic Functions.\label{table-variadic}}
\end{table}
\npfourdigitnosep
\npnoaddmissingzero
%% Table 10 %% 

\npaddmissingzero
\npfourdigitsep
\begin{table}
  \centering
  %\ra{1.1}
\resizebox{\columnwidth}{!}{%
  \begin{tabular}{@{}lrrrcrrrrr@{}} \toprule
  Product & \multicolumn{3}{c}{Files} & \phantom{a} & CUF & CUFA & CUM & CUMA & Gini \\
  \cmidrule{2-4} 
          & Total & Inv & Inc & & & & & & \\ \midrule
    Werkspot & \numprint{9400} & \numprint{217} & \numprint{326} && \numprint{312} & \numprint{184} & \numprint{0} & \numprint{0} & \nprounddigits{2} \numprint{0.434} \npnoround  \\ 
    WerkspotNoTests & \numprint{6229} & \numprint{173} & \numprint{249} && \numprint{169} & \numprint{144} & \numprint{0} & \numprint{0} & \nprounddigits{2} \numprint{0.356} \npnoround  \\ 
  \bottomrule
  \end{tabular}
}
  \caption{Usage of Invocation Functions.\label{table-invokers}}
\end{table}
\npfourdigitnosep
\npnoaddmissingzero

%% Running include analysis again, this time without test files and /beheer folder %%
\npaddmissingzero
\npfourdigitsep
\begin{table*}
\centering
%\ra{1.2}
\begin{tabular}{@{}lrrrcrrrrr@{}} \toprule 
System & \multicolumn{3}{c}{Includes} & \phantom{abc} & \multicolumn{5}{c}{Results} \\
\cmidrule{2-4} \cmidrule{6-10}
 & Total & Static & Dynamic & & Unique & Missing & Any & Other & Average \\ \midrule 
  WerkspotNoTests & \numprint{1736} & \numprint{1234} & \numprint{502} & & \numprint{1318} & \numprint{82} & \numprint{138} & \numprint{198} & \nprounddigits{2} \numprint{13.85858586} \npnoround \\ 
\bottomrule
\end{tabular}
\caption{Results of running {\sf FLRES} on the corpus.\label{table-quick}}
\end{table*}

\end{document}